<div class="p-6">
  <p class="font-medium text-xl mb-4">Add Medicine</p>
  <form [formGroup]="medicineForm" (ngSubmit)="createMedicine()">
    <div class="mb-4">
      <mat-form-field appearance="fill" class="w-full">
        <mat-label>Name</mat-label>
        <input matInput type="text" formControlName="name">
        <mat-error *ngIf="medicineForm.controls['name'].invalid && medicineForm.controls['name'].touched">
          Medicine name is required.
        </mat-error>
      </mat-form-field>
    </div>
    <div class="mb-4">
      <mat-form-field appearance="fill" class="w-full">
        <mat-label>Category</mat-label>
        <mat-select formControlName="category">
          <mat-option *ngFor="let category of categories" [value]="category._id">
            {{ category.name }}
          </mat-option>
        </mat-select>
        <mat-error *ngIf="medicineForm.controls['category'].invalid && medicineForm.controls['category'].touched">
          Category is required.
        </mat-error>
      </mat-form-field>
    </div>
    <div class="mb-4">
      <mat-form-field appearance="fill" class="w-full">
        <mat-label>Description</mat-label>
        <textarea matInput rows="5" formControlName="description"></textarea>
        <mat-error *ngIf="medicineForm.controls['description'].invalid && medicineForm.controls['description'].touched">
          Description is required.
        </mat-error>
      </mat-form-field>
    </div>
    <div class="mb-4">
      <mat-form-field appearance="fill" class="w-full">
        <mat-label>Quantity</mat-label>
        <input matInput type="number" formControlName="quantity">
        <mat-error *ngIf="medicineForm.controls['quantity'].invalid && medicineForm.controls['quantity'].touched">
          Quantity is required and must be greater than 0.
        </mat-error>
      </mat-form-field>
    </div>
    <div class="mb-4">
      <mat-form-field appearance="fill" class="w-full">
        <mat-label>Amount</mat-label>
        <input matInput type="number" formControlName="amount">
        <mat-error *ngIf="medicineForm.controls['amount'].invalid && medicineForm.controls['amount'].touched">
          Amount is required and must be greater than or equal to 0.
        </mat-error>
      </mat-form-field>
    </div>
    <div class="mb-4">
      <div class="">
        <label for="medicineImage">Medicine Image:</label>
        <input type="file" id="selectedImage" name="selectedImage" (change)="onImageSelected($event)">
      </div>
    </div>
    <div class="mt-4">
      <button type="submit"
              class="bg-blue-500 hover:bg-white border-2 border-blue-500 text-white hover:text-blue-500 hover:border-2 hover-border-gray-900 font-bold py-2 px-4 rounded w-full"
              >Add Medicine
      </button>
    </div>
  </form>
</div>
